<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/a11y-dark.min.css" rel="stylesheet">
	<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
	<script defer type="module" src="js/index.js"></script>
</head>

<body>
	<ul class="list-group overflow-auto contents" id="contents"></ul>

	<script>
		const template = ({name, description}) => `
			<div id="${name.toLocaleLowerCase().replace(/\s+/, '-')}" class="container">
				<h2>${name}</h2>
				<div class="img-wrapper">
					<img src="/img/${name.toLocaleLowerCase().replace(/\s+/, '-')}.png" title="${name}" class="img-thumbnail">
				</div>
				${description}
			</div>
		`;
		const data = [
			{
				name: 'Singleton',
				description: `<p>Модальное окно на этой странице. выводящее изображения реализовано Синглтоном.</p>`,
			},
			{
				name: 'Factory method',
				description: `<p>Когда нужно создавать множество однотипных объектов с разными данными. Причем эти объекты могут содержать как
			свойства, так и методы.</p>
		<p>
			Простая фабрика может состоять и 2 классов - конструктор (генерирует новый объект) и класс, вызывающий это
			создание с опр. парамнетрами. Классов-конструкторов может быть несколько.
		</p>`,
			},
			{
				name: 'Abstract factory',
				description: `<p>Паттерн создает интерфейс, группирующий другие фабрики, логически связанные друг с другом. Абстракция для
			фабрики или фабричного метода.</p>
		<p>У подфабрик должен быть одинкавый интервейс создания объектов, чтобы ими можно было управлять из абстрактной
			фабрики.</p>`,
			},
			{
				name: 'Prototype',
				description: `<p>Порождающий паттерн. Позволяет копировать объекты, не вдаваясь в подробности их реализации.</p>
		<p>В отличие от Фабрики, есть базовая реализация класса. Создаются клоны, которые можно изменить под выполнение
			определенных задач.</p>`,
			},
			{
				name: 'Builder',
				description: `<p>Бывает, что при создании объетка параметры и их количесво могут изменяться. В этом случае конструктор может
			разрастаться до слишком больщих размеров.</p>
		<p>Builder позволяет создавать сложные объекты, инициализацио которых проблематично уместить в конструкторе.</p>
		<p>Builder в удобной форме позволяет создавать различные конфигурации объектов, не засоряя исходный конструктор
			дополнительной логикой, которая в нем не нужна.</p>
		<p>Builder нужен, если объект существует в разных вариациях или процесс инстанцирования состоит из нескольких
			шагов.</p>`,
			},
			{
				name: 'Decorator',
				description: `<p>Самый простой пример - когда нужно создать большое количество подклассов.</p>
		<p>Декоратором может быть класс, который принимает объект и доавляет к нему свойства или методы, тем самым расширяя его.</p>`,
			},
			{
				name: 'Facade',
				description: `<p>Самый простой пример - когда нужно создать большое количество подклассов.</p>
		<p>Декоратором может быть класс, который принимает объект и доавляет к нему свойства или методы, тем самым расширяя его.</p>`,
			},
			{
				name: 'Proxy',
				description: `<p>Proxy - заместитель. Структурный паттерн, который вместо реальных объектов предоставляет специальные объекты-заменители.
					эти объекты перехватывают вызов к оригиналам и позваляют сделать что-то до или после обращения к оригинальному объекту.</p>
					<p>Своего рода "прослойка", которая позволяет произвести дополнительные манипуляции. До того, как отдать дальнейший контроль.</p>
					<p>Пример - авторизация с ограничением доступа к разным ресурсам.</p>`,
			},
			{
				name: 'Adapter',
				description: `<p>Оборачивает несовместимый с чем-то объект и делает его совместимым, не исменяя исходный код объекта.</p>`,
			},
		];

		</script>

<script>
		data.forEach(item =>{
			document.write(template(item));
		});
		document.addEventListener('DOMContentLoaded', () => {
			hljs.highlightAll();

			const contentsNode = document.getElementById('contents');
			const h2s = document.querySelectorAll('h2');
			h2s.forEach(h2 => {
				const id = h2.parentElement.id;
				contentsNode.insertAdjacentHTML('beforeend', `<li class="list-group-item"><a href="#${id}">${h2.innerText}</a></li>`);
			});
		});
	</script>
</body>

</html>
