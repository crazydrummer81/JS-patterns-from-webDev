<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/a11y-dark.min.css" rel="stylesheet">
	<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
	<script defer type="module" src="js/index.js"></script>
</head>

<body>
	<ul class="list-group overflow-auto contents" id="contents"></ul>

	<div id="singleton" class="container">
		<h2>Singleton</h2>
		<div class="img-wrapper">
			<img src="/img/singleton.png" title="Singleton" class="img-thumbnail">
		</div>
		<p>Модальное окно на этой странице. выводящее изображения реализовано Синглтоном.</p>
	</div>

	<div id="factory-method" class="container">
		<h2>Factory method</h2>
		<div class="img-wrapper">
			<img src="/img/factory-method.png" title="Factory method" class="img-thumbnail">
		</div>
		<p>Когда нужно создавать множество однотипных объектов с разными данными. Причем эти объекты могут содержать как
			свойства, так и методы.</p>
		<p>
			Простая фабрика может состоять и 2 классов - конструктор (генерирует новый объект) и класс, вызывающий это
			создание с опр. парамнетрами. Классов-конструкторов может быть несколько.
		</p>
	</div>

	<div id="abstract-factory" class="container">
		<h2>Abstract factory</h2>
		<div class="img-wrapper">
			<img src="/img/abstract-factory.png" title="Abstract factory" class="img-thumbnail">
		</div>
		<p>Паттерн создает интерфейс, группирующий другие фабрики, логически связанные друг с другом. Абстракция для
			фабрики или фабричного метода.</p>
		<p>У подфабрик должен быть одинкавый интервейс создания объектов, чтобы ими можно было управлять из абстрактной
			фабрики.</p>
	</div>

	<div id="prototype" class="container">
		<h2>Prototype</h2>
		<div class="img-wrapper">
			<img src="/img/prototype.png" title="Prototype" class="img-thumbnail">
		</div>
		<p>Порождающий паттерн. Позволяет копировать объекты, не вдаваясь в подробности их реализации.</p>
		<p>В отличие от Фабрики, есть базовая реализация класса. Создаются клоны, которые можно изменить под выполнение
			определенных задач.</p>
	</div>

	<div id="builder" class="container">
		<h2>Builder</h2>
		<div class="img-wrapper">
			<img src="/img/builder.png" title="Builder" class="img-thumbnail">
		</div>
		<p>Бывает, что при создании объетка параметры и их количесво могут изменяться. В этом случае конструктор может
			разрастаться до слишком больщих размеров.</p>
		<p>Builder позволяет создавать сложные объекты, инициализацио которых проблематично уместить в конструкторе.</p>
		<p>Builder в удобной форме позволяет создавать различные конфигурации объектов, не засоряя исходный конструктор
			дополнительной логикой, которая в нем не нужна.</p>
		<p>Builder нужен, если объект существует в разных вариациях или процесс инстанцирования состоит из нескольких
			шагов.</p>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			hljs.highlightAll();

			const contentsNode = document.getElementById('contents');
			const h2s = document.querySelectorAll('h2');
			h2s.forEach(h2 => {
				const id = h2.parentElement.id;
				contentsNode.insertAdjacentHTML('beforeend', `<li class="list-group-item"><a href="#${id}">${h2.innerText}</a></li>`);
			});
		});
	</script>
</body>

</html>
